{"version":3,"file":"component---src-pages-archives-tsx-40a362ed23ffa3df58df.js","mappings":"0MAQA,UAAeA,IAI6B,IAH1CC,MACEC,mBAAmB,MAAEC,KAEc,GACrCC,EAAAA,EAAAA,YAAU,MACRC,EAAAA,EAAAA,KAAeC,OAAO,gBAAiB,CACrCC,MAAO,IACPC,SAAU,SACVC,OAAO,EACPC,OAAQ,QACRC,SAAU,UAEL,MACLN,EAAAA,EAAAA,KAAeO,SAAS,IAEzB,IAGH,MAOMC,EAPQC,MAAMC,KAClB,IAAIC,IACFb,EAAMc,KAAIC,IAAmB,IAAlB,KAAEC,GAAW,EACtB,OAAOA,EAAKC,YAAYC,KAAKC,MAAM,KAAK,EAAE,MAIzBL,KAAKM,IACnB,CACLA,OACApB,MAAOA,EAAMqB,QAAOC,IAAA,IAAC,KAAEN,GAAW,SAChCA,EAAKC,YAAYC,KAAKK,SAASH,EAAK,QAK1C,OACEI,EAAAA,EAAAA,KAACC,EAAAA,EAAM,CAAAC,SACJhB,EAASI,KAAIa,IAAA,IAAC,KAAEP,EAAI,MAAEpB,GAAY,SACjCwB,EAAAA,EAAAA,KAACI,EAAAA,SAAQ,CAAAF,UACPG,EAAAA,EAAAA,MAAAA,KAAAA,CAAIC,GAAG,eAAeC,UAAU,OAAML,SAAAA,EACpCF,EAAAA,EAAAA,KAAAA,KAAAA,CAAIO,UAAU,gBAAeL,SAAEN,IAC9BpB,EAAMc,KAAIkB,IAAA,IAAC,KAAEhB,GAAW,SACvBa,EAAAA,EAAAA,MAAAA,KAAAA,CAAkBE,UAAU,YAAWL,SAAAA,EACrCF,EAAAA,EAAAA,KAAAA,OAAAA,CAAMS,MAAO,CAAEC,YAAa,GAAIR,SAAEV,EAAKC,YAAYC,QACnDM,EAAAA,EAAAA,KAACW,EAAAA,KAAI,CAACC,GAAIpB,EAAKqB,OAAOC,KAAKZ,SAAEV,EAAKC,YAAYsB,UAFvCvB,EAAKc,GAGT,QAPIV,EAUJ,KAIlB,EAEM,MAAMoB,EAAO,KAAMhB,EAAAA,EAAAA,KAACiB,EAAAA,EAAG,CAACF,MAAM,M","sources":["webpack://blog/./src/pages/archives.tsx"],"sourcesContent":["import { Fragment, useEffect } from \"react\";\n\nimport ScrollReveal from \"scrollreveal\";\nimport { graphql, Link } from \"gatsby\";\nimport type { PageProps } from \"gatsby\";\nimport Seo from \"../components/Seo\";\nimport Layout from \"../components/Layout\";\n\nexport default ({\n  data: {\n    allMarkdownRemark: { edges },\n  },\n}: PageProps<Queries.ArchivesPageQuery>) => {\n  useEffect(() => {\n    ScrollReveal().reveal(\"#archive-item\", {\n      delay: 500,\n      useDelay: \"onload\",\n      reset: true,\n      origin: \"right\",\n      distance: \"120px\",\n    });\n    return () => {\n      ScrollReveal().destroy();\n    };\n  }, []);\n\n  // 计算出年段区间\n  const years = Array.from(\n    new Set(\n      edges.map(({ node }: any) => {\n        return node.frontmatter.date.split(\"-\")[0];\n      })\n    )\n  );\n  const nextData = years.map((year) => {\n    return {\n      year,\n      edges: edges.filter(({ node }: any) =>\n        node.frontmatter.date.includes(year)\n      ),\n    };\n  });\n\n  return (\n    <Layout>\n      {nextData.map(({ year, edges }: any) => (\n        <Fragment key={year}>\n          <dl id=\"archive-item\" className=\"mb-8\">\n            <dt className=\"text-3xl mb-4\">{year}</dt>\n            {edges.map(({ node }: any) => (\n              <dd key={node.id} className=\"ml-8 mb-4\">\n                <span style={{ marginRight: 8 }}>{node.frontmatter.date}</span>\n                <Link to={node.fields.slug}>{node.frontmatter.title}</Link>\n              </dd>\n            ))}\n          </dl>\n        </Fragment>\n      ))}\n    </Layout>\n  );\n};\n\nexport const Head = () => <Seo title=\"归档\" />;\n\nexport const query = graphql`\n  query ArchivesPage {\n    allMarkdownRemark(sort: { frontmatter: { date: DESC } }) {\n      edges {\n        node {\n          id\n          frontmatter {\n            title\n            date(formatString: \"YYYY-MM-DD\")\n          }\n          fields {\n            slug\n          }\n        }\n      }\n    }\n  }\n`;\n"],"names":["_ref","data","allMarkdownRemark","edges","useEffect","ScrollReveal","reveal","delay","useDelay","reset","origin","distance","destroy","nextData","Array","from","Set","map","_ref2","node","frontmatter","date","split","year","filter","_ref3","includes","_jsx","Layout","children","_ref4","Fragment","_jsxs","id","className","_ref5","style","marginRight","Link","to","fields","slug","title","Head","Seo"],"sourceRoot":""}